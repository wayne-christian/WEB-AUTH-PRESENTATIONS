<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Week 11: Miscellaneous Mash up</title>
<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/night.css">

<!-- Theme used for syntax highlighting of code -->
<link rel="stylesheet" href="lib/css/zenburn.css">
<link rel="stylesheet" href="css/custom.css">

<!-- Printing and PDF exports -->
<script>
var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>
</head>
<body class="ls">
<div class="reveal">
  <div class="slides">
    <section data-background-transition="convex" data-background="#333333">
      <h2 >Hello</h2>
      <p style="color:#F8AA00">(Web Authoring CMP1130M)</p>
    </section>
    <section data-background-transition="convex" data-background-video="assets/week1assets/rainingcode.mp4" data-background-video-loop="loop">
      <h3 >Wayne Christian</h3>
      <p style="color:#F8AA00">Designer, Developer, Director & Senior Lecturer</p>
    </section>
    <section data-menu-title="action day" data-background-transition="convex" data-background="assets/week12assets/csslide.png"> </section>
    <section data-menu-title="stickie 1" data-background-transition="convex">
      <p><img src="assets/week11assets/img1.jpg"/></p>
    </section>
    <section data-menu-title="stickie 2" data-background-transition="convex">
      <p><img src="assets/week11assets/img2.jpg"/></p>
    </section>
    <section data-menu-title="stickie 3" data-background-transition="convex">
      <p><img src="assets/week11assets/img3.jpg"/></p>
    </section>
    <section data-menu-title="stickie 4" data-background-transition="convex">
      <p><img src="assets/week11assets/img4.jpg"/></p>
    </section>
    <section data-menu-title="stickie 5" data-background-transition="convex">
      <p><img src="assets/week11assets/img5.jpg"/></p>
    </section>
    <section data-menu-title="stickie 6" data-background-transition="convex">
      <p><img src="assets/week11assets/img6.jpg"/></p>
    </section>
    <section data-menu-title="stickie 8" data-background-transition="convex">
      <p><img src="assets/week11assets/img8.jpg"/></p>
    </section>
    <section data-menu-title="stickie 9" data-background-transition="convex">
      <p><img src="assets/week11assets/img9.jpg"/></p>
    </section>
    <section data-menu-title="stickie 10" data-background-transition="convex">
      <p><img src="assets/week11assets/img10.jpg"/></p>
    </section>
    <section data-menu-title="stickie 12" data-background-transition="convex">
      <p><img src="assets/week11assets/img12.jpg"/></p>
    </section>
    <section data-menu-title="stickie 13" data-background-transition="convex">
      <p><img src="assets/week11assets/img13.jpg"/></p>
    </section>
    <section data-menu-title="stickie 15" data-background-transition="convex">
      <p><img src="assets/week11assets/img15.jpg"/></p>
    </section>
    <section data-menu-title="stickie 16" data-background-transition="convex">
      <p><img src="assets/week11assets/img16.jpg"/></p>
    </section>
    <section data-menu-title="stickie 17" data-background-transition="convex">
      <p><img src="assets/week11assets/img17.jpg"/></p>
    </section>
    <section data-menu-title="social" data-background-transition="convex" data-background="assets/week4assets/home.jpg">
      <h4>Web Auth Social
        (Some awards, showcases etc.)</h4>
      <h3>Home Night Club
        Monday 17th December(Week 13)</h3>
      <h2>19:00 - 21.30..ish</h2>
      <h3>Student Deals!</h3>
    </section>
    <section data-menu-title="poll">
      <iframe src="https://embed.polleverywhere.com/multiple_choice_polls/E2cRMNpU4ogaSBw?controls=none&short_poll=true" width="100%" height="800px" frameBorder="0"></iframe>
    </section>
    <section data-menu-title="showcase" data-background-transition="convex" data-background="">
      <h4>Showcase</h4>
      <p>Please email any current work, tests, experiments you have built...</p>
      <p class="small">You may get a prize on the night!</p>
    </section>
    <section data-menu-title="slide1"  data-background-size="900px" data-background-color="#1b1b1b">
      <h3>Today</h3>
      <p>Today is a mash-up of useful bits!</p>
      <p class="fragment tight bullet small" style="">Using a google font</p>
      <p class="fragment tight bullet small" style="">Look at Spotify API (just look)</p>
      <p class="fragment tight bullet small" style="">Using some JSON (JSON.parse) from spotify, loop through the array and create img buttons to show album artwork and play songs</p>
      <p class="fragment tight bullet small" style="">Using same loop add to menu</p>
      <p class="fragment tight bullet small" style="">Concatenation</p>
      <p class="fragment tight bullet small" style="">Create an audio element from a absolute url</p>
      <p class="fragment tight bullet small" style="">CSS animation for a rollover button</p>
      <p class="fragment tight bullet small" style="">JQuery animate function for better one page nav</p>
      <p class="fragment tight bullet small" style="">Add and remove class in JQuery</p>
      <p class="fragment tight bullet small" style="">Other Goodies (time dependant)</p>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Basics</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
<!--custom css styles for handling our spotify images and additional styles-->
&lt;link href=&quot;https://fonts.googleapis.com/css?family=Montserrat&quot; rel=&quot;stylesheet&quot;&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-2.2.2.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/main.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;css/overide.css&quot; /&gt;
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>HTML structure (Create a Nav)</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
<!--ADD NAV-->
<nav id="main_nav">
    <ul id="menu">
      <li><a>Quick Link</a>
       <!--This will hold our menu items created in JS-->
        <ul id="main_menu_holder">
        </ul>
      </li>
    </ul>
  </nav>
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>HTML structure (Create Content / albums)</p>
      <pre><code style="font-size: 50%; line-height: normal"> 

  <div id="content">
    <h1>Foo Fighters from Spotify</h1>
    <p>Parse JSON and add interactive magic!.</p>
    <!--placeholdeer to put spitify images from js-->
    <div id="results"></div>
  </div>
</code></pre>
    </section>
    <section data-menu-title="bx" data-background="#3f3f3f">
      <h3>Spotify</h3>
      <p>The JSON</p>
    </section>
    <section data-menu-title="spotify1" data-background-transition="convex" data-background="assets/week12assets/screen2.png"> </section>
    <section data-menu-title="spotify1" data-background-transition="convex" data-background="assets/week12assets/screen3.png"> </section>
    <section data-menu-title="spotify1" data-background-transition="convex" data-background="assets/week12assets/screen1.png">
      <p class="dark-back">I'll provide this</p>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Modified Json</p>
      <pre><code style="font-size: 50%; line-height: normal">      
var spotifyjson;

//snippit	  	
"images":[{"height":640,"url":"https://i.scdn.co/image/3b505559c2bce1f6205eeb0b19d65e3a2c8f5617","width":640}
{"height":300,"url":"https://i.scdn.co/image/690932c4cdc34270a6421079af4c2afc3f48234a","width":300},{"height":64,"url":"https://i.scdn.co/image/88e091688667eff1085cebeec92cba9d6726c000","width":64}],
"track":"https://p.scdn.co/mp3-preview/ed97c86e6f73097ab414e5c1ab599a120853f010?cid=774b29d4f13844c495f206cafdad9c86",
"name":"Greatest Hits","
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Convert JSON string to JS Objects</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
//data will be converted to objects
var data = JSON.parse(spotifyjson);
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Wait for page to load and get albums</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
$(document).ready(function () {
	console.log('ready', data);
	searchAlbums();

});
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>search function</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
var searchAlbums = function () {
// GET ONLY THE PARTS OF THE ARRAY WE NEED (SPOTIFY JSON IS VERBOSE).
	var items = data.albums.items;
// create empty string so no comparison issues
	var resultsintohtml = '';
	var menu = '';
};
</code></pre>
    </section>

    <section data-menu-title="" data-background="#3f3f3f">
      <p>jQuery.each( object/ARRAY, callback )</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
<mark>what is the index?</mark>
$.each(items, function (index) {

	// get the ID from the items array for menu see next slide why
	var id = items[index].id;
	
	// get the name from the items array
	var name = items[index].name;
	
	//get track url (mp3)
	var track = items[index].track;
	
	// get the 2nd (bigger size )image from the items array - note this is a nested array
	var image = items[index].images[1].url;
});
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>In each item - Concatenate to create html structure</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
//ADD NAMES TO A MENU SO WE CAN ADD SOME SCROLL ANIMATIONS TO CONTENT
menu += '<li><a href="' + id + '">' + name + '</a></li>';

</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>In each item - Concatenate to create html structure</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
//add the vars into a large string we can holding all the html we need
//there are alternative ways to do this via append() etc
// notice we add a unique background image with an inline style - the rest is positioned by css
//note the class="cover".
resultsintohtml += '&lt;div style=&quot;background-image:url(' + image + ')&quot; 
data-track=&quot;' + track + '&quot; id=&quot;' + id + '&quot;  class=&quot;cover&quot;&gt;
&lt;div id=&quot;' + id + '&quot; class=&quot;hover_name&quot;&gt;
&lt;h3&gt;' + name + '&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt;';
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Add HTML to our place holders</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
// insert it into the results div via the html() method;
	$('#results').html(resultsintohtml);
	$('#main_menu_holder').html(menu);

	// call a new function that applies new click events.
	// why?
	addclickevents();
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <h2>Check in the browser that it is outputting correctly</h2>
    </section>
    <section data-menu-title="bx" data-background="#3f3f3f">
      <p>Add some CSS Styling as we go</p>
      <pre><code style="font-size: 50%; line-height: normal"> 

/*what are we doing here?*/
.cover {
    width: 25vw;
    height: 25vw;
    display: inline-block;
    background-size: cover;
/* note the transition */   
	transition: 0.5s;    
}
/*over the cover image*/
.cover:hover {
    cursor: pointer;
	 outline: 8px solid #fff;
	outline-offset: -8px;
}
</code></pre>
    </section>
    <section data-menu-title="bx" data-background="#3f3f3f">
      <p>Add some CSS Styling for drop menu</p>
      <pre><code style="font-size: 50%; line-height: normal"> 

/*the drop down css is from week 4 with the following addition*/
/*What does this do?*/

nav ul ul {
 display: none;
 position: absolute; 
 top: 60px; /* the height of the main nav */
 <mark>height: 80vh;</mark>
 <mark>overflow: scroll;</mark>
}
</code></pre>
    </section>
    <section data-menu-title="bx" data-background="#3f3f3f">
      <p>Add some CSS Hover to show name</p>
      <pre><code style="font-size: 50%; line-height: normal"> 		 
<div id="' + id + '" class="hover_name"><h3>' + name + '</h3></div>

/*SHOW AN OVERLAY IN THE BOX BUT HIDDEN*/
.hover_name{
    position: relative;
    z-index: 999;
    width: 25vw;
    height: 25vw;
    background-color: rgba(0,0,0,.5);
	display: none;
 <mark>
 animation: 1s ease 0s normal forwards 1 fadein;
 </mark>
}

</code></pre>
    </section>
    <section data-menu-title="bx" data-background="#3f3f3f">
      <p>CSS Animation</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
/*Add a fade in animation*/

@keyframes fadein{
    0% { opacity:0; }
    66% { opacity:0; }
    100% { opacity:1; }
}

@-webkit-keyframes fadein{
    0% { opacity:0; }
    66% { opacity:0; }
    100% { opacity:1; }
}
</code></pre>
    </section>
    <section data-menu-title="bx" data-background="#3f3f3f">
      <p>Add some CSS Hover to show name</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
		 
&lt;div id=&quot;' + id + '&quot; class=&quot;hover_name&quot;&gt;&lt;h3&gt;' + name + '&lt;/h3&gt;&lt;/div&gt;

.hover_name h3{
	text-align: center;
    position: absolute;
    bottom: 20px;
    width: 100%;
    padding: 20px;
	transition: 0.5s;
	font-size: 2rem;
}

</code></pre>
    </section>
    
    <section data-menu-title="" data-background="#3f3f3f">
      <h2>Check in the browser that it is outputting correctly</h2>
    </section>
    
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Add interaction after adding new elements to the DOM</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
	// this is after the $.each function
	// call a new function that applies new click events.
	// why?
	addclickevents();
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Add interaction after adding new elements to the DOM</p>
      <pre><code style="font-size: 60%; line-height: normal"> 
var addclickevents = function () {
// add scroll to function using animate and offset.top
//The offset() method set or returns the offset coordinates for the selected elements, relative to the document.

$('#main_menu_holder li a').click(function (e) {
	e.preventDefault(); //WHY?
	// get the href - could be any attribute but needs to be an id on a corresponding div
	var target = $(this).attr('href');
	// The scrollTop() method sets or returns the vertical scrollbar position for the selected elements.
	//Tip: When the scrollbar is on the top, the position is 0.

	$('html, body').animate({
		scrollTop: $("#" + target).offset().top
	}, 2000);
});
}
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>add click to play 30 second mp3 from spotify</p>
      <pre><code style="font-size: 60%; line-height: normal"> 
$('.cover').click(function (e) {
	e.preventDefault();
	console.log('get song');
	// identify the cover which as been clicked
	var target = $(this);
	var currenttrack = target.data('track');
	// if the target has the class playing pause the audio
	// note the audio var is global, if this was local we would play sounds on top of each other


});
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Condition to check if playing</p>
      <pre><code style="font-size: 50%; line-height: normal"> 

if (target.hasClass('playing')) {
	audioObject.pause();
} else {
	// if an audio object has already been defined, pause it
	if (audioObject) {
		audioObject.pause();
	}
	//CREATE AN AUDIO OBJECT DYNAMICALLY NO <AUDIO></AUDIO> TAG NEEDED
	audioObject = new Audio(currenttrack);

	audioObject.play();//PLAY IT
	//ADD CLASS TO THE SELECTED IMAGE SO WE CAN HIGHLIGHT AND ALLOW US TO CHECK IF THE CURRENT ITEM IS PLAYING
	target.addClass('playing');

}

</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Additional sound events</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
// listen for audio to end and remove the highlight class
audioObject.addEventListener('ended', function () {
target.removeClass('playing');
});

// listen for audio to be paused and remove the highlight class
audioObject.addEventListener('pause', function () {
target.removeClass('playing');
});
</code></pre>
    </section>
    <section data-menu-title="" data-background="#3f3f3f">
      <p>Css for Playing</p>
      <pre><code style="font-size: 50%; line-height: normal"> 
/*class added if audio playing from JQ*/

.cover.playing {
    outline: 8px solid #e45343;
	outline-offset: -8px;
}
</code></pre>
    </section>
    <section data-menu-title="centre example 1" data-background="#3f3f3f" class="flexbox-container">
      <p>Sticky Nav</p>
      <div class="collumn">
        <p>HTML</p>
        <pre><code  style="font-size: 40%; line-height: normal">
&lt;div class='header'&gt;Header&lt;/div&gt;
&lt;div class='nav'&gt;Navigation&lt;/div&gt;
</code>
</pre>
      </div>
      <div class="collumn">
        <p>CSS</p>
        <pre><code  style="font-size: 30%; line-height: normal">
.header {
  width: 100%;
  height: 100px;
}

.nav {
  width: 100%;
  height: 60px;
  background: #ff5252;
  color: #fff;
  position: relative;
  margin-bottom: -60px;
  z-index: 3;
}

.sticky {
  position: fixed;
  top: 0;
}
</code></pre>
      </div>
      <div class="collumn">
        <p>js</p>
        <pre><code  style="font-size: 30%; line-height: normal">
var yourNavigation = $(".nav");
yourHeader = $('.header').height();

$(window).scroll(function() {
  if ($(this).scrollTop() &gt; yourHeader) {
    yourNavigation.addClass("sticky");
  } else {
    yourNavigation.removeClass("sticky");
  }
});
</code></pre>
      </div>
    </section>
    <section data-menu-title="example 1" data-background-iframe="https://codepen.io/renduh/full/oBBGbK/" data-background-interactive> </section>
    <section data-menu-title="centre example 2" data-background="#3f3f3f" class="flexbox-container">
      <p>CSS Animation</p>
      <div class="collumn">
        <p>HTML</p>
        <pre><code  style="font-size: 40%; line-height: normal">
&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This example does not work in Internet Explorer 9 and earlier versions.&lt;/p&gt;

&lt;div class-&quot;ani&quot;&gt;&lt;/div&gt;
</code>
</pre>
      </div>
      <div class="collumn">
        <p>CSS</p>
        <pre><code  style="font-size: 30%; line-height: normal">
/* The animation code */
@keyframes example {
    0%   {background-color: red;}
    25%  {background-color: yellow;}
    50%  {background-color: blue;}
    100% {background-color: green;}
}
div.ani {
    width: 100px;
    height: 100px;
    background-color: red;
    animation-name: example;
    animation-duration: 4s;
}

</code></pre>
      </div>
      <div class="collumn">
        <p>Output</p>
        <div id="myElementb"> </div>
        <p> Note what makes this work is:<br>
          display: table; in parent nav<br>
        </p>
      </div>
    </section>
    <section data-menu-title="next session" data-background="">
      <h3>Thursdays Session</h3>
      <p class="" style="">Show your current work in progress/action plan</p>
    </section>
    <section data-menu-title="finish" data-background="">
      <h2>BOOM!</h2>
    </section>
  </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> 
<script src="lib/js/head.min.js"></script> 
<script src="js/reveal.js"></script> 
<script src="js/jquery.animateNumber.min.js"></script> 
<script src="js/main.js"></script> 
<script>
var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>
</body>
</html>
